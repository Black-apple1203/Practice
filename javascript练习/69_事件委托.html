<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
        /*
            委托
                A委托B去买饭
                A发布任务  委托方
                B执行任务  代理方
        */
        /*
            事件委托实现步骤：
                1、找到当前节点的父节点或祖先节点
                2、将事件添加到你找到的这个父节点或祖先节点上
                3、找到触发对象，判断触发对象是否是想要的触发对象，进行后续的操作

            li委托ul将li变成红色
                1、浪费
                2、后添加的节点没有点击事件
            [注] 事件委托的原理是事件冒泡
        */
        window.onload = function(){
            var oUl = document.getElementById("ull");
            oUl.onclick = function(ev){
                //event是事件对象(也是window的属性)，但不是标准的，只有IE支持。 
                // 在W3C标准支持的浏览器下事件对象是引发事件函数的第一个参数，参数名随意。 
                // 所以，我们一般使用事件对象
                // function (ev){
                //      var ev = ev || event;
                // }
                var e = ev || window.event; //浏览器兼容  
                var target = e.target || window.event.srcElement;  // src 就是事件的触发源 //srcElement和target返回事件的目标节点（触发该事件的节点），即引发该事件的节点
                if(target.nodeName.toLowerCase() == "li"){
                    target.style.backgroundColor = 'red';
                }
            }
            var obtn = document.getElementById("btn1");
            var i = 6;
            //给button添加点击事件
            obtn.onclick = function(){
                var newNode = document.createElement("li");//创建新节点
                newNode.innerHTML = i++ *1111;  //innerHTML:获取对象的内容或向对象插入内容
                oUl.appendChild(newNode); //appendChild:给父节点插入子节点
            }
        }
    </script>
</head>
<body>
        <button id="btn1">新增节点</button>
        <ul id="ull">
            <li>1111</li>
            <li>2222</li>
            <li>3333</li>
            <li>4444</li>
            <li>5555</li>
        </ul>
</body>
</html>

//【注】谷歌浏览器运行出错，火狐没有问题